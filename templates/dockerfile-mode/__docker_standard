# -*- mode: snippet -*-
# name: Dockerfile Python
# key: __docker_standard
# --
# syntax=docker/dockerfile:1
FROM python:${1:3.11-slim}

WORKDIR /app

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

RUN useradd -m appuser && chown -R appuser /app
USER appuser

CMD ["python", "main.py"]
